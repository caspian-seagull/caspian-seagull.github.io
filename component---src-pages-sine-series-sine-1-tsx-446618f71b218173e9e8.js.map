{"version":3,"sources":["webpack:///./src/components/Canvas/index.tsx","webpack:///./src/sketches/Polygon.ts","webpack:///./src/sketches/sine/sine1.ts","webpack:///./src/pages/sine-series/sine-1.tsx","webpack:///./src/sketches/index.ts","webpack:///./src/images/fullscreen.svg","webpack:///./node_modules/core-js/modules/es6.array.fill.js","webpack:///./src/images/frame.svg"],"names":["Canvas","React","createRef","isFullscreen","sketch","props","setCanvas","canvasRef","current","run","console","warn","runSketch","sizeSetup","setState","state","componentDidMount","this","render","canvasProps","controls","CanvasContainer$","ref","fullscreen","FullSreenButton$","onClick","toggleFullScreen","Component","styled","div","bgColor","w","h","css","theme","background","button","frameIcon","fullscreenIcon","gray","Polygon","ctx","vertices","center","radius","startAngle","angle","Math","PI","i","beginPath","x","sin","y","cos","arc","fill","payload","draw","shapes","push","CW","CH","dt","clearRect","forEach","shape","fillStyle","update","window","requestAnimationFrame","SketchClass","SketchFrame$","SineSeries1","PageLayout","titleLink","layoutTheme","ThemeNames","dark","title","Sketch","undefined","canvas","getContext","speed","isRun","clientWidth","devicePixelRatio","clientHeight","width","height","init","resizeListener","addEventListener","onResize","alert","module","exports","$export","P"],"mappings":"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","file":"component---src-pages-sine-series-sine-1-tsx-446618f71b218173e9e8.js","sourcesContent":["import React from 'react'\nimport styled, { css } from 'styled-components'\nimport fullscreenIcon from 'images/fullscreen.svg'\nimport frameIcon from 'images/frame.svg'\nimport SketchClass from 'sketches/index'\n\ntype Controls = {\n  fullscreen?: boolean\n}\n\ninterface CanvasPropsI {\n  stretch?: boolean\n  w?: number | string\n  h?: number | string\n  controls?: Controls\n  bgColor?: string\n  sketch?: SketchClass\n  canvasProps?: React.HTMLProps<HTMLCanvasElement>\n}\n\ninterface CanvasStateI {\n  isFullscreen?: boolean\n}\n\ninterface CanvasInterface extends CanvasPropsI, CanvasStateI {}\n\nclass Canvas extends React.Component<CanvasInterface> {\n  canvasRef: React.RefObject<HTMLCanvasElement> = React.createRef()\n\n  state: CanvasStateI = {\n    isFullscreen: false\n  }\n\n  runSketch = () => {\n    const { sketch } = this.props \n\n    if (sketch) {\n      sketch.setCanvas(this.canvasRef.current)\n      sketch.run()\n    } else {\n      console.warn('Sketch is not provided')\n    }\n  }\n\n  toggleFullScreen = () => {\n    this.runSketch()\n    this.props.sketch.sizeSetup()\n    this.setState({\n      isFullscreen: !this.state.isFullscreen\n    })\n  }\n\n  componentDidUpdate = () => {\n    this.runSketch()\n  }\n\n  componentDidMount() {\n    this.runSketch()\n  }\n\n  render() {\n    const { isFullscreen } = this.state\n    const { canvasProps, controls } = this.props\n\n    return (\n      <CanvasContainer$ {...this.props} isFullscreen={isFullscreen}>\n        <canvas {...canvasProps} ref={this.canvasRef} />\n\n        {controls.fullscreen && (\n          <FullSreenButton$\n            isFullscreen={isFullscreen}\n            onClick={this.toggleFullScreen}\n          />\n        )}\n      </CanvasContainer$>\n    )\n  }\n}\n\nexport default Canvas\n\n//region Styled\nconst CanvasContainer$ = styled.div`\n  position: relative;\n\n  ${({ isFullscreen, bgColor, w, h }: CanvasInterface) => isFullscreen ? css`\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100vw;\n    height: 100vh;\n    z-index: 100;\n    background-color: ${({ theme }) => bgColor ? bgColor : theme.background};\n  ` : css`\n    width: ${w || '100%'};\n    height: ${h || '100%'};\n  `}\n\n  canvas {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n  }\n`\n\nconst FullSreenButton$ = styled.button`\n  position: absolute;\n  bottom: 4px;\n  right: 4px;\n  border: none;\n  border-radius: 4px;\n  padding: 0;\n  width: 32px;\n  height: 32px;\n  transition: all .3s ease;\n  cursor: pointer;\n  opacity: 0.75;\n  \n  ${({ isFullscreen }: CanvasInterface) => css`\n    background: url(${isFullscreen ? frameIcon : fullscreenIcon}) no-repeat center;\n    background-size: 32px;\n  `}\n\n  background-color: ${({ theme }) => theme.gray};\n\n  &:hover {\n    opacity: 1;\n  }\n`\n//endregion","class Polygon {\n  props: PolygonI\n\n  constructor(props: PolygonI) {\n    this.props = props\n  }\n\n  render = (props: PolygonI) => {\n    const { ctx, vertices, center, radius, angle } = props\n    \n    let startAngle = angle || Math.PI\n\n    for (let i = 0; i < vertices; i++) {\n      ctx.beginPath()\n      let angle = startAngle + (Math.PI*2/vertices) * i\n\n      let x = center.x + Math.sin(angle) * radius\n      let y = center.y + Math.cos(angle) * radius\n\n      ctx.arc(x, y, 4, 0, Math.PI*2, false)\n      ctx.fill()\n    }\n  }\n\n  update = (payload?: PolygonI) => {\n    this.render({\n      ...this.props,\n      ...payload\n    })\n  }\n}\n\nexport default Polygon\n","import SketchClass from 'sketches/index'\nimport Polygon from 'sketches/Polygon'\n\nclass Sketch extends SketchClass {\n  shapes: Polygon[] = []\n  angle: number = 0\n  \n  init = () => {\n    this.draw()\n    this.shapes.push(new Polygon({\n      center: {\n        x: this.CW / 2,\n        y: this.CH / 2\n      },\n      angle: Math.PI,\n      vertices: 10,\n      radius: 200,\n      ctx: this.ctx\n    }))\n\n    this.shapes.push(new Polygon({\n      center: {\n        x: this.CW / 2,\n        y: this.CH / 2\n      },\n      angle: Math.PI / 2,\n      vertices: 10,\n      radius: 150,\n      ctx: this.ctx\n    }))\n\n    this.shapes.push(new Polygon({\n      center: {\n        x: this.CW / 2,\n        y: this.CH / 2\n      },\n      angle: Math.PI,\n      vertices: 10,\n      radius: 100,\n      ctx: this.ctx\n    }))\n\n    this.shapes.push(new Polygon({\n      center: {\n        x: this.CW / 2,\n        y: this.CH / 2\n      },\n      angle: Math.PI / 2,\n      vertices: 10,\n      radius: 50,\n      ctx: this.ctx\n    }))\n  }\n\n  draw = (dt?: number) => {\n    const { ctx, CW, CH, shapes } = this\n    ctx.clearRect(0, 0, CW, CH)\n    \n    this.angle += Math.PI / 360\n    \n    let n = 1\n\n    shapes.forEach((shape, i) => {\n\n      if (i % 2 === 0) {\n        n = -1\n        ctx.fillStyle = 'red'\n      } else {\n        n = 1\n        ctx.fillStyle = 'white'\n      }\n\n      const { radius } = shape.props\n\n      shape.update({\n        radius: radius + Math.sin((this.angle + 10*i) * 10) * 20\n      })\n    })\n\n    window.requestAnimationFrame(this.draw)\n  }\n}\n\nexport default new Sketch()","import React from 'react'\nimport styled from 'styled-components'\nimport { ThemeNames } from 'constants/Themes'\nimport { PageLayout } from 'layouts/PageLayout'\nimport Canvas from 'components/Canvas'\nimport Sketch from 'sketches/sine/sine1'\n\nconst SineSeries1: React.StatelessComponent = () => {\n  return (\n    <PageLayout\n      titleLink='/sine-series'\n      layoutTheme={ThemeNames.dark}\n      title='Sine series'\n    >\n      <SketchFrame$>\n        <Canvas controls={{ fullscreen: true }} sketch={Sketch} />\n      </SketchFrame$>\n    </PageLayout>\n  )\n}\n\nexport default SineSeries1\n\nconst SketchFrame$ = styled.div`\n  width: 100%;\n  height: 640px;\n  overflow: hidden;\n  border-radius: 4px;\n  border: 1px solid ${({ theme }) => theme.gray};\n`","export interface SketchParamsI {\n  ctx: CanvasRenderingContext2D,\n  canvas: HTMLCanvasElement\n}\n\nexport default class SketchClass {\n  canvas: HTMLCanvasElement = undefined\n  ctx: CanvasRenderingContext2D = undefined\n  CW: number = 0\n  CH: number = 0\n  isRun: boolean = false\n  resizeListener: void\n  dt: number = 0\n  tau: number = Math.PI*2\n\n  setCanvas = (canvas: HTMLCanvasElement) => {\n    this.canvas = canvas\n    this.ctx = canvas.getContext('2d')\n  }\n\n  tick = (speed: number = 1) => this.dt += speed\n\n  start = () => {\n    this.isRun = true\n  }\n\n  sizeSetup = () => {\n    const w = this.canvas.clientWidth * window.devicePixelRatio\n    const h = this.canvas.clientHeight * window.devicePixelRatio\n\n    this.ctx.canvas.width = this.CW = w\n    this.ctx.canvas.height = this.CH = h\n  }\n\n  init() {\n    alert('You must specify init() and draw() methods')\n  }\n\n  draw() {}\n\n  onResize = () => {\n    this.sizeSetup()\n  }\n\n  run = () => {\n    if (!this.canvas) {\n      console.warn('HTML Canvas element is not provided. Use setCanvas() method')\n      return\n    }\n\n    this.sizeSetup()\n\n    if (!this.isRun) {\n      this.isRun = true\n      this.init()\n    }\n\n    this.resizeListener = window.addEventListener('resize', this.onResize)\n  }\n}","module.exports = \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgaWQ9Inpvb21fb3V0X21hcF8yNHB4Ij4KPHBhdGggaWQ9Imljb24vbWFwcy96b29tX291dF9tYXBfMjRweCIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik01LjMwMDA1IDYuNzAwMDFMMyA5VjNIOUw2LjY5OTk1IDUuMjk5OTlMOS41ODk5NyA4LjE2OTk4TDguMTcwMDQgOS41OTAwM0w1LjMwMDA1IDYuNzAwMDFaTTE3LjMgNS4yOTk5OUwxNSAzSDIxVjlMMTguNzAwMSA2LjcwMDAxTDE1LjgzMDEgOS41OTAwM0wxNC40MSA4LjE2OTk4TDE3LjMgNS4yOTk5OVpNOSAyMUw2LjY5OTk1IDE4LjdMOS41ODk5NyAxNS44M0w4LjE3MDA0IDE0LjQxTDUuMzAwMDUgMTcuM0wzIDE1VjIxSDlaTTE4LjcwMDEgMTcuM0wyMSAxNVYyMUgxNUwxNy4zIDE4LjdMMTQuNDEgMTUuODNMMTUuODMwMSAxNC40MUwxOC43MDAxIDE3LjNaIiBmaWxsPSJibGFjayIgZmlsbC1vcGFjaXR5PSIwLjU0Ii8+CjwvZz4KPC9zdmc+Cg==\"","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\nvar $export = require('./_export');\n\n$export($export.P, 'Array', { fill: require('./_array-fill') });\n\nrequire('./_add-to-unscopables')('fill');\n","module.exports = \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgaWQ9ImNyb3BfZGluXzI0cHgiPgo8cGF0aCBpZD0iaWNvbi9pbWFnZS9jcm9wX2Rpbl8yNHB4IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTUgM0gxOUMyMC4xIDMgMjEgMy44OTk5OSAyMSA1VjE5QzIxIDIwLjEgMjAuMSAyMSAxOSAyMUg1QzMuOTAwMDIgMjEgMyAyMC4xIDMgMTlWNUMzIDMuODk5OTkgMy45MDAwMiAzIDUgM1pNNSAxOUgxOVY1SDVWMTlaIiBmaWxsPSJibGFjayIgZmlsbC1vcGFjaXR5PSIwLjU0Ii8+CjwvZz4KPC9zdmc+Cg==\""],"sourceRoot":""}