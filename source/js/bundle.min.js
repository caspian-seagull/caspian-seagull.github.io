!function(){function draw(){ctx.clearRect(0,0,2*window.innerWidth,2*window.innerHeight),ANGLE-=PI/360*SPEED*.5,drawCenter(ctx);var COORDS=getCoordinates();drawFirstLevelPoints(COORDS.mainPoints),drawSecondLevelPoints(COORDS.secondaryPoints),drawConnectors(COORDS.mainPoints,COORDS.secondaryPoints),window.requestAnimationFrame(draw)}function getCoordinates(){for(var coords={mainPoints:[],secondaryPoints:[]},angles=[ANGLE],i=1;i<COUNT;i++)angles.push(ANGLE+ANGLEDIFF*i);return angles.forEach(function(angle){coords.mainPoints.push(getPointCoordinates(CENTER,angle,R1))}),coords.mainPoints.forEach(function(point,index){var localAngle=angles[index]+angles[index]*COUNT,newPointCoordinate=getPointCoordinates(point,localAngle,R2);coords.secondaryPoints.push(newPointCoordinate)}),coords}function getPointCoordinates(center,angle,radius){var x=void 0,y=void 0;return x=center.x+radius*Math.cos(angle),y=center.y+radius*Math.sin(angle),{x:x,y:y}}function drawCenter(ctx){drawCirclePoint(CENTER.x,CENTER.y,8),drawCircle(CENTER.x,CENTER.y,R1-4,!0)}function drawFirstLevelPoints(points){points.map(function(point){drawCirclePoint(point.x,point.y,6),drawCircle(point.x,point.y,R2-4)})}function drawSecondLevelPoints(points){points.map(function(point){drawCirclePoint(point.x,point.y,4)})}function drawConnectors(innerPoints,outterPoints){innerPoints.forEach(function(point,index){drawLine(point,CENTER),drawLine(point,outterPoints[index]);for(var n=outterPoints.length,i=1;i<n;i++)drawLine(outterPoints[0],outterPoints[n-1]),drawLine(outterPoints[i],outterPoints[i-1])})}function drawCirclePoint(x,y,rad){ctx.beginPath(),ctx.strokeStyle=COLOR,ctx.lineWidth=rad,ctx.arc(x,y,rad/2,0,2*PI,!1),ctx.stroke(),ctx.beginPath(),ctx.strokeStyle=COLOR,ctx.lineWidth=1,ctx.arc(x,y,rad+4,0,2*PI,!1),ctx.stroke()}function drawCircle(x,y,rad,isDashed){isDashed&&ctx.setLineDash([2,4]),ctx.globalAlpha=.2,ctx.beginPath(),ctx.strokeStyle=COLOR,ctx.lineWidth=2,ctx.arc(x,y,rad+4,0,2*PI,!1),ctx.stroke(),ctx.globalAlpha=1,ctx.setLineDash([0])}function drawLine(from,to){ctx.globalAlpha=.5,ctx.beginPath(),ctx.strokeStyle=COLOR,ctx.lineWidth=1,ctx.moveTo(from.x,from.y),ctx.lineTo(to.x,to.y),ctx.stroke(),ctx.globalAlpha=1}var canvas=document.querySelector("#circles"),ctx=canvas.getContext("2d"),PI=Math.PI,R1=1.1*window.innerHeight,R2=R1/3,COUNT=12,SPEED=.1,ANGLE=0,COLOR="#ccc",CENTER={x:window.innerWidth,y:2*window.innerHeight},ANGLEDIFF=360/COUNT*(PI/180);window.addEventListener("resize",function(){CENTER={x:window.innerWidth,y:2*window.innerHeight},ctx.canvas.width=2*window.innerWidth,ctx.canvas.height=2*window.innerHeight}),function(){ctx.canvas.width=2*window.innerWidth,ctx.canvas.height=2*window.innerHeight,window.requestAnimationFrame(draw)}()}(),function(){function draw(){ctx.clearRect(0,0,2*window.innerWidth,2*window.innerHeight),ANGLE-=PI/360*SPEED*.5,drawCenter(ctx);var COORDS=getCoordinates();drawFirstLevelPoints(COORDS.mainPoints),drawSecondLevelPoints(COORDS.secondaryPoints),drawConnectors(COORDS.mainPoints,COORDS.secondaryPoints),window.requestAnimationFrame(draw)}function getCoordinates(){for(var coords={mainPoints:[],secondaryPoints:[]},angles=[ANGLE],i=1;i<COUNT;i++)angles.push(ANGLE+ANGLEDIFF*i);return angles.forEach(function(angle){coords.mainPoints.push(getPointCoordinates(CENTER,angle,R1))}),coords.mainPoints.forEach(function(point,index){var localAngle=angles[index]+angles[index]*COUNT,newPointCoordinate=getPointCoordinates(point,localAngle,R2);coords.secondaryPoints.push(newPointCoordinate)}),coords}function getPointCoordinates(center,angle,radius){var x=void 0,y=void 0;return x=center.x+radius*Math.cos(angle),y=center.y+radius*Math.sin(angle),{x:x,y:y}}function drawCenter(ctx){drawCirclePoint(CENTER.x,CENTER.y,8),drawCircle(CENTER.x,CENTER.y,R1-4,!0)}function drawFirstLevelPoints(points){points.map(function(point){drawCirclePoint(point.x,point.y,6),drawCircle(point.x,point.y,R2-4)})}function drawSecondLevelPoints(points){points.map(function(point){drawCirclePoint(point.x,point.y,4)})}function drawConnectors(innerPoints,outterPoints){innerPoints.forEach(function(point,index){drawLine(point,CENTER),drawLine(point,outterPoints[index]);for(var n=outterPoints.length,i=1;i<n;i++)drawLine(outterPoints[0],outterPoints[n-1]),drawLine(outterPoints[i],outterPoints[i-1])})}function drawCirclePoint(x,y,rad){ctx.beginPath(),ctx.strokeStyle=COLOR,ctx.lineWidth=rad,ctx.arc(x,y,rad/2,0,2*PI,!1),ctx.stroke(),ctx.beginPath(),ctx.strokeStyle=COLOR,ctx.lineWidth=1,ctx.arc(x,y,rad+4,0,2*PI,!1),ctx.stroke()}function drawCircle(x,y,rad,isDashed){isDashed&&ctx.setLineDash([2,4]),ctx.globalAlpha=.2,ctx.beginPath(),ctx.strokeStyle=COLOR,ctx.lineWidth=2,ctx.arc(x,y,rad+4,0,2*PI,!1),ctx.stroke(),ctx.globalAlpha=1,ctx.setLineDash([0])}function drawLine(from,to){ctx.globalAlpha=.5,ctx.beginPath(),ctx.strokeStyle=COLOR,ctx.lineWidth=1,ctx.moveTo(from.x,from.y),ctx.lineTo(to.x,to.y),ctx.stroke(),ctx.globalAlpha=1}var canvas=document.querySelector("#circles"),ctx=canvas.getContext("2d"),PI=Math.PI,R1=1.1*window.innerHeight,R2=R1/3,COUNT=12,SPEED=.1,ANGLE=0,COLOR="#ccc",CENTER={x:window.innerWidth,y:2*window.innerHeight},ANGLEDIFF=360/COUNT*(PI/180);window.addEventListener("resize",function(){CENTER={x:window.innerWidth,y:2*window.innerHeight},ctx.canvas.width=2*window.innerWidth,ctx.canvas.height=2*window.innerHeight}),function(){ctx.canvas.width=2*window.innerWidth,ctx.canvas.height=2*window.innerHeight,window.requestAnimationFrame(draw)}()}();