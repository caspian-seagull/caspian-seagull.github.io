{"version":3,"sources":["webpack:///./src/utils/geometry/toRad.ts","webpack:///./src/utils/geometry/vector.ts","webpack:///./src/sketches/sine/sine2.ts","webpack:///./src/pages/sine-series/sine-2.tsx","webpack:///./src/components/Canvas/index.tsx","webpack:///./src/sketches/index.ts","webpack:///./src/images/fullscreen.svg","webpack:///./node_modules/core-js/modules/es6.array.fill.js","webpack:///./src/images/frame.svg"],"names":["toRad","deg","Math","PI","Vector","r","a","sin","cos","draw","fade","ctx","CW","CH","save","globalAlpha","fillStyle","PageThemes","dark","background","fillRect","clearRect","x","y","s","c","tau","beginPath","arc","fill","strokeStyle","ellipse","stroke","p1","p2","moveTo","lineTo","points","forEach","p","dot","dt","tick","clear","c1","c2","circle","v1x","v1y","v2x","v2y","push","drawLissagouCurve","line","window","requestAnimationFrame","SketchClass","SketchFrame$","SineSeries1","PageLayout","withBorder","titleLink","layoutTheme","ThemeNames","title","Canvas","controls","fullscreen","sketch","Sketch","styled","div","theme","gray","React","createRef","isFullscreen","props","setCanvas","canvasRef","current","run","console","warn","runSketch","sizeSetup","setState","state","componentDidMount","this","render","canvasProps","CanvasContainer$","ref","FullSreenButton$","onClick","toggleFullScreen","Component","bgColor","w","h","css","button","frameIcon","fullscreenIcon","undefined","canvas","getContext","speed","isRun","clientWidth","devicePixelRatio","clientHeight","width","height","init","resizeListener","addEventListener","onResize","alert","module","exports","$export","P"],"mappings":"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","file":"component---src-pages-sine-series-sine-2-tsx-b24ee9ae75624f4ea015.js","sourcesContent":["const toRad = (deg: number) => Math.PI/180*deg\nexport default toRad","import toRad from \"./toRad\"\n\ninterface VectorParams {\n  r: number,\n  a: number,\n  deg?: boolean\n}\n\nconst Vector = ({ r, a, deg }: VectorParams): number[] => {\n  return [\n    r * Math.sin((deg ? toRad(a) : a)),\n    r * Math.cos((deg ? toRad(a) : a)),\n  ]\n}\n\nexport default Vector","import SketchClass from 'sketches/index'\nimport oscillate from 'utils/geometry/oscillate'\nimport { PageThemes } from 'constants/Themes'\nimport Vector from 'utils/geometry/vector'\nimport toRad from 'utils/geometry/toRad'\n\nclass Sketch extends SketchClass {\n  points: PointCartesian[] = []\n  \n  init = () => {\n    this.draw()\n  }\n\n  clear = (fade: boolean = false) => {\n    const { ctx, CW, CH } = this\n    \n    if (fade) {\n      ctx.save()\n      ctx.globalAlpha = 0.05\n      ctx.fillStyle = PageThemes.dark.background\n      ctx.fillRect(0, 0, CW, CH)\n      ctx.globalAlpha = 1\n\n      return\n    }\n\n    ctx.clearRect(0, 0, CW, CH)\n  } \n\n  dot = (x: number, y: number, s: number = 2, c: string = 'white') => {\n    const { ctx, tau } = this\n    ctx.fillStyle = c\n    ctx.beginPath()\n    ctx.arc(x, y, s, 0, tau, false)\n    ctx.fill()\n  }\n\n  circle = (x: number, y: number, r: number, c: string = 'white') => {\n    const { ctx, tau } = this\n    ctx.strokeStyle = c\n    ctx.beginPath()\n    ctx.ellipse(x, y, r, r, 0, 0, tau, false)\n    ctx.stroke()\n  }\n\n  line = (p1: PointCartesian, p2: PointCartesian, c?: string) => {\n    const { ctx } = this\n    ctx.strokeStyle = c\n    ctx.beginPath()\n    ctx.moveTo(p1.x, p1.y)\n    ctx.lineTo(p2.x, p2.y)\n    ctx.stroke()\n  }\n\n  drawLissagouCurve = () => {\n    this.points.forEach((p: PointCartesian) => this.dot(\n      p.x, p.y, 2, 'red'\n    ))\n  }\n\n  draw = () => {\n    const {dt, CW, CH, ctx } = this\n    this.tick(1)\n    this.clear()\n\n    const c1 = {x: 110, y: this.CH/2, r: 100}\n    const c2 = {x: this.CW/2, y: 110, r: 100}\n\n    this.circle(c1.x, c1.y, c1.r, 'white')\n    this.circle(c2.x, c2.y, c2.r, 'white')\n\n    const [v1x, v1y] = Vector({r: c1.r, a: dt*2, deg: true})\n    const [v2x, v2y] = Vector({r: c2.r, a: dt*3.2 + 90 + dt, deg: true})\n\n    this.points.push({\n      x: CW/2 + v2x,\n      y: CH/2 + v1y\n    })\n\n    this.drawLissagouCurve()\n\n    this.dot(CW/2 + v2x, CH/2 + v1y, 6, 'red')\n\n    this.line({ \n      x: c1.x + v1x, y: c1.y + v1y\n    }, {\n      x: CW/2 + v2x, y: CH/2 + v1y\n    }, 'red')\n\n    this.line({ \n      x: c2.x + v2x, y: c2.y + v2y\n    }, {\n      x: CW/2 + v2x, y: CH/2 + v1y\n    }, 'red')\n\n    this.dot(c1.x + v1x, c1.y + v1y, 6, 'white')\n    this.dot(c2.x + v2x, c2.y + v2y, 6, 'white')\n\n    window.requestAnimationFrame(this.draw)\n  }\n}\n\nexport default new Sketch()","import React from 'react'\nimport styled from 'styled-components'\nimport { ThemeNames } from 'constants/Themes'\nimport { PageLayout } from 'layouts/PageLayout'\nimport Canvas from 'components/Canvas'\nimport Sketch from 'sketches/sine/sine2'\n\nconst SineSeries1: React.StatelessComponent = () => {\n  return (\n    <PageLayout\n      withBorder={false}\n      titleLink='/sine-series'\n      layoutTheme={ThemeNames.dark}\n      title='Sine series â€” 2'\n    >\n      <SketchFrame$>\n        <Canvas controls={{ fullscreen: true }} sketch={Sketch} />\n      </SketchFrame$>\n    </PageLayout>\n  )\n}\n\nexport default SineSeries1\n\nconst SketchFrame$ = styled.div`\n  width: 100%;\n  height: calc(100vw - 128px);\n  overflow: hidden;\n  border-radius: 4px;\n  border: 1px solid ${({ theme }) => theme.gray};\n`","import React from 'react'\nimport styled, { css } from 'styled-components'\nimport fullscreenIcon from 'images/fullscreen.svg'\nimport frameIcon from 'images/frame.svg'\nimport SketchClass from 'sketches/index'\n\ntype Controls = {\n  fullscreen?: boolean\n}\n\ninterface CanvasPropsI {\n  stretch?: boolean\n  w?: number | string\n  h?: number | string\n  controls?: Controls\n  bgColor?: string\n  sketch?: SketchClass\n  canvasProps?: React.HTMLProps<HTMLCanvasElement>\n}\n\ninterface CanvasStateI {\n  isFullscreen?: boolean\n}\n\ninterface CanvasInterface extends CanvasPropsI, CanvasStateI {}\n\nclass Canvas extends React.Component<CanvasInterface> {\n  canvasRef: React.RefObject<HTMLCanvasElement> = React.createRef()\n\n  state: CanvasStateI = {\n    isFullscreen: false\n  }\n\n  runSketch = () => {\n    const { sketch } = this.props \n\n    if (sketch) {\n      sketch.setCanvas(this.canvasRef.current)\n      sketch.run()\n    } else {\n      console.warn('Sketch is not provided')\n    }\n  }\n\n  toggleFullScreen = () => {\n    this.runSketch()\n    this.props.sketch.sizeSetup()\n    this.setState({\n      isFullscreen: !this.state.isFullscreen\n    })\n  }\n\n  componentDidUpdate = () => {\n    this.runSketch()\n  }\n\n  componentDidMount() {\n    this.runSketch()\n  }\n\n  render() {\n    const { isFullscreen } = this.state\n    const { canvasProps, controls } = this.props\n\n    return (\n      <CanvasContainer$ {...this.props} isFullscreen={isFullscreen}>\n        <canvas {...canvasProps} ref={this.canvasRef} />\n\n        {controls.fullscreen && (\n          <FullSreenButton$\n            isFullscreen={isFullscreen}\n            onClick={this.toggleFullScreen}\n          />\n        )}\n      </CanvasContainer$>\n    )\n  }\n}\n\nexport default Canvas\n\n//region Styled\nconst CanvasContainer$ = styled.div`\n  position: relative;\n\n  ${({ isFullscreen, bgColor, w, h }: CanvasInterface) => isFullscreen ? css`\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100vw;\n    height: 100vh;\n    z-index: 100;\n    background-color: ${({ theme }) => bgColor ? bgColor : theme.background};\n  ` : css`\n    width: ${w || '100%'};\n    height: ${h || '100%'};\n  `}\n\n  canvas {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n  }\n`\n\nconst FullSreenButton$ = styled.button`\n  position: absolute;\n  bottom: 4px;\n  right: 4px;\n  border: none;\n  border-radius: 4px;\n  padding: 0;\n  width: 32px;\n  height: 32px;\n  transition: all .3s ease;\n  cursor: pointer;\n  opacity: 0.75;\n  \n  ${({ isFullscreen }: CanvasInterface) => css`\n    background: url(${isFullscreen ? frameIcon : fullscreenIcon}) no-repeat center;\n    background-size: 32px;\n  `}\n\n  background-color: ${({ theme }) => theme.gray};\n\n  &:hover {\n    opacity: 1;\n  }\n`\n//endregion","export interface SketchParamsI {\n  ctx: CanvasRenderingContext2D,\n  canvas: HTMLCanvasElement\n}\n\nexport default class SketchClass {\n  canvas: HTMLCanvasElement = undefined\n  ctx: CanvasRenderingContext2D = undefined\n  CW: number = 0\n  CH: number = 0\n  isRun: boolean = false\n  resizeListener: void\n  dt: number = 0\n  tau: number = Math.PI*2\n\n  setCanvas = (canvas: HTMLCanvasElement) => {\n    this.canvas = canvas\n    this.ctx = canvas.getContext('2d')\n  }\n\n  tick = (speed: number = 1) => this.dt += speed\n\n  start = () => {\n    this.isRun = true\n  }\n\n  sizeSetup = () => {\n    const w = this.canvas.clientWidth * window.devicePixelRatio\n    const h = this.canvas.clientHeight * window.devicePixelRatio\n\n    this.ctx.canvas.width = this.CW = w\n    this.ctx.canvas.height = this.CH = h\n  }\n\n  init() {\n    alert('You must specify init() and draw() methods')\n  }\n\n  draw() {}\n\n  onResize = () => {\n    this.sizeSetup()\n  }\n\n  run = () => {\n    if (!this.canvas) {\n      console.warn('HTML Canvas element is not provided. Use setCanvas() method')\n      return\n    }\n\n    this.sizeSetup()\n\n    if (!this.isRun) {\n      this.isRun = true\n      this.init()\n    }\n\n    this.resizeListener = window.addEventListener('resize', this.onResize)\n  }\n}","module.exports = \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgaWQ9Inpvb21fb3V0X21hcF8yNHB4Ij4KPHBhdGggaWQ9Imljb24vbWFwcy96b29tX291dF9tYXBfMjRweCIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik01LjMwMDA1IDYuNzAwMDFMMyA5VjNIOUw2LjY5OTk1IDUuMjk5OTlMOS41ODk5NyA4LjE2OTk4TDguMTcwMDQgOS41OTAwM0w1LjMwMDA1IDYuNzAwMDFaTTE3LjMgNS4yOTk5OUwxNSAzSDIxVjlMMTguNzAwMSA2LjcwMDAxTDE1LjgzMDEgOS41OTAwM0wxNC40MSA4LjE2OTk4TDE3LjMgNS4yOTk5OVpNOSAyMUw2LjY5OTk1IDE4LjdMOS41ODk5NyAxNS44M0w4LjE3MDA0IDE0LjQxTDUuMzAwMDUgMTcuM0wzIDE1VjIxSDlaTTE4LjcwMDEgMTcuM0wyMSAxNVYyMUgxNUwxNy4zIDE4LjdMMTQuNDEgMTUuODNMMTUuODMwMSAxNC40MUwxOC43MDAxIDE3LjNaIiBmaWxsPSJibGFjayIgZmlsbC1vcGFjaXR5PSIwLjU0Ii8+CjwvZz4KPC9zdmc+Cg==\"","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\nvar $export = require('./_export');\n\n$export($export.P, 'Array', { fill: require('./_array-fill') });\n\nrequire('./_add-to-unscopables')('fill');\n","module.exports = \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgaWQ9ImNyb3BfZGluXzI0cHgiPgo8cGF0aCBpZD0iaWNvbi9pbWFnZS9jcm9wX2Rpbl8yNHB4IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTUgM0gxOUMyMC4xIDMgMjEgMy44OTk5OSAyMSA1VjE5QzIxIDIwLjEgMjAuMSAyMSAxOSAyMUg1QzMuOTAwMDIgMjEgMyAyMC4xIDMgMTlWNUMzIDMuODk5OTkgMy45MDAwMiAzIDUgM1pNNSAxOUgxOVY1SDVWMTlaIiBmaWxsPSJibGFjayIgZmlsbC1vcGFjaXR5PSIwLjU0Ii8+CjwvZz4KPC9zdmc+Cg==\""],"sourceRoot":""}