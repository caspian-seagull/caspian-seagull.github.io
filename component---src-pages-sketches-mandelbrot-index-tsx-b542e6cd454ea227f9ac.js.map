{"version":3,"sources":["webpack:///./src/sketches/mandelbrot/index.ts","webpack:///./src/sketches/mandelbrot/mandelbrot1.ts","webpack:///./src/pages/sketches/mandelbrot/index.tsx"],"names":["customSettings","p","adiv","setup","createCanvas","pixelDensity","loadPixels","x","width","y","height","brightness","a","map","b","ca","cb","n","bb","abs","pix","pixels","updatePixels","SketchFrame$","React","memo","useState","settings","className","title","FullscreenDemo","top","left","PageTitle","to","P5Sketch","sketch","styled","div","Colors","CSS","bg"],"mappings":"iNAEe,GCIQ,SAACA,GAAD,OAAwC,SAACC,GAAU,MACnDD,EAAbE,YADgE,MACzD,EADyD,EAKxED,EAAEE,MAAQ,WACRF,EAAEG,aAAa,IAAK,KACpBH,EAAEI,aAAa,GACfJ,EAAEK,aAGF,IAAK,IAAIC,EAAI,EAAGA,EAAIN,EAAEO,MAAOD,IAC3B,IAAK,IAAIE,EAAI,EAAGA,EAAIR,EAAES,OAAQD,IAAK,CASjC,IARA,IAAIE,OAAU,EAEVC,EAAIX,EAAEY,IAAIN,EAAG,EAAGN,EAAEO,OAAQ,IAAK,KAC/BM,EAAIb,EAAEY,IAAIJ,EAAG,EAAGR,EAAES,QAAS,EAAG,GAE9BK,EAAKH,EACLI,EAAKF,EAEAG,EAAI,EAAGA,EAnBA,GAmBmBA,GAAQ,EAAG,CAC5C,IACIC,EAAK,EAAIN,EAAIE,EAKjB,GAHAF,GAHSA,EAAIA,EAAIE,EAAIA,EAGXC,GAAIb,EACdY,GAAKI,EAAKF,GAAId,EAEVD,EAAEkB,IAAIP,EAAIE,GAzBR,EAyBoB,MAE1BH,EAAaV,EAAEY,IAAII,EAAG,EA5BR,GA4B0B,EAAG,KA5B7B,KA8BVA,IACFN,EAAa,GAIjB,IAAIS,EAA0B,GAAnBb,EAAIE,EAAIR,EAAEO,OAErBP,EAAEoB,OAAOD,EAAM,GAAKT,EACpBV,EAAEoB,OAAOD,EAAM,GAAKT,EACpBV,EAAEoB,OAAOD,EAAM,GAAKT,EACpBV,EAAEoB,OAAOD,EAAM,GAAK,IAIxBnB,EAAEqB,mB,YCbAC,GAHSC,cAAMC,MAzBiB,WAAM,MACVC,mBAAS,CACvCxB,KAAM,IADDyB,EADmC,UAK1C,OACE,yBAAKC,UAAU,eACb,kBAAC,IAAD,CAAKC,MAAM,mBAEX,kBAACC,EAAA,EAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAASC,KAAG,EAACC,MAAI,GACf,kBAACC,EAAA,EAAD,CAAWJ,MAAM,eACjB,kBAAC,OAAD,CAAMK,GAAG,KAAT,UAIJ,kBAACX,EAAD,KACE,kBAACY,EAAA,EAAD,CAAUC,OAAQA,EAAO,GAAGT,WAUjBU,IAAOC,IAAV,wCAAGD,CAAH,uJASIE,IAAOC,IAAIC","file":"component---src-pages-sketches-mandelbrot-index-tsx-b542e6cd454ea227f9ac.js","sourcesContent":["import MSetSketch1 from './mandelbrot1'\n\nexport default [\n  MSetSketch1\n]","import p5 from 'p5';\n\ninterface MandelbrotSettings {\n  adiv?: number\n}\n\nconst MandelbrotSet1 = (customSettings: MandelbrotSettings) => (p: p5) => {\n  const { adiv = 1 } = customSettings\n  const maxIterations = 50;\n  const limit = 2\n\n  p.setup = () => {\n    p.createCanvas(512, 512);\n    p.pixelDensity(1);\n    p.loadPixels();\n    \n    \n    for (let x = 0; x < p.width; x++) {\n      for (let y = 0; y < p.height; y++) {\n        let brightness;\n\n        let a = p.map(x, 0, p.width, -2.5, 1.5);\n        let b = p.map(y, 0, p.height, -2, 2);\n\n        let ca = a;\n        let cb = b;\n\n        for (let n = 0; n < maxIterations; n = n + 1) {\n          let aa = a * a - b * b;\n          let bb = 2 * a * b;\n\n          a = (aa + ca)/adiv\n          b = (bb + cb)/adiv;\n\n          if (p.abs(a + b) > limit) break;\n\n          brightness = p.map(n, 0, maxIterations, 0, 255)\n\n          if (n === maxIterations) {\n            brightness = 0\n          }\n        }\n\n        let pix = (x + y * p.width) * 4;\n\n        p.pixels[pix + 0] = brightness;\n        p.pixels[pix + 1] = brightness;\n        p.pixels[pix + 2] = brightness;\n        p.pixels[pix + 3] = 255;\n      }\n    }\n\n    p.updatePixels();\n  };\n};\n\nexport default MandelbrotSet1;\n","import React, { useState, FunctionComponent } from 'react'\nimport styled from 'styled-components'\nimport { Link } from 'gatsby'\nimport FullscreenDemo from 'layouts/FullscreenDemo'\nimport { Interface$, Corner$ } from 'layouts/FullscreenDemo/styles'\nimport { Colors } from 'constants/Styles'\nimport P5Sketch from 'components/P5Sketch'\nimport PageTitle from 'components/PageTitle'\nimport sketch from 'sketches/mandelbrot'\nimport SEO from 'components/seo'\n\nconst Mandelbrot: FunctionComponent = () => {\n  const [settings, setSettings] = useState({\n    adiv: 1,\n  });\n\n  return (\n    <div className=\"light-theme\">\n      <SEO title=\"Mandelbrot set\" />\n\n      <FullscreenDemo>\n        <Interface$>\n          <Corner$ top left>\n            <PageTitle title='Mandelbrot' />\n            <Link to=\"/\">Home</Link>\n          </Corner$>\n        </Interface$>\n\n        <SketchFrame$>\n          <P5Sketch sketch={sketch[0](settings)} />\n        </SketchFrame$>\n      </FullscreenDemo>\n    </div>\n  )\n}\n\nexport default React.memo(Mandelbrot)\n\n//#region Styled\nconst SketchFrame$ = styled.div`\n  position: relative;\n  width: 100%;\n  height: 100%;\n  line-height: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  overflow: hidden;\n  background-color: ${Colors.CSS.bg}\n`\n//#endregion"],"sourceRoot":""}